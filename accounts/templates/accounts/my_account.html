{% extends "base.html" %}

{% block content %}
<div class="container my-5">
    <h2 class="mb-4">My Account</h2>

    <!-- Profile Info -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h5 class="card-title">Profile Information</h5>
            <p><strong>Username:</strong> {{ username }}</p>
            <p><strong>Full Name:</strong> {{ full_name|default:"Not set" }}</p>
            <p><strong>Email:</strong> {{ email }}</p>
            <p><strong>Member Since:</strong> {{ date_joined|date:"F j, Y" }}</p>
        </div>
    </div>

    <!-- Order History (Optional) -->
  
<div class="card shadow-sm">
    <div class="card-body">
        <h5 class="card-title">Order History</h5>
        {% if orders %}
            <ul class="list-group list-group-flush">
                {% for order in orders %}
                    <li class="list-group-item">
                        <strong>Order #{{ order.id }}</strong> - {{ order.date|date:"F j, Y" }}
                        <span class="badge bg-info text-dark">{{ order.status|title }}</span>
                        <span class="float-end">£{{ order.total|floatformat:2 }}</span>
                        <br>
                        <small>Items:</small>
                        <ul class="mb-0">
                            {% for item in order.items.all %}
                                <li>{{ item.product_name }} (x{{ item.quantity }}) - £{{ item.price|floatformat:2 }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">You have no orders yet.</p>
        {% endif %}
    </div>
</div>

{% endblock %}
